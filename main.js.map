{"version":3,"sources":["../src/main.ts"],"sourcesContent":["const startTime = new Date().getTime();\nimport { NestFactory } from '@nestjs/core';\nconsole.info(`NestFactory ${new Date().getTime() - startTime}`);\nimport { AppModule } from './app.module';\nconsole.info(`AppModule耗时：${new Date().getTime() - startTime}`);\n\nimport { SwaggerModule, DocumentBuilder } from '@nestjs/swagger';\nimport { ValidationPipe } from '@nestjs/common';\nimport { HttpExceptionFilter } from './core/filter/http-exception/http-exception.filter';\nimport { TransformInterceptor } from './core/interceptor/transform/transform.interceptor';\nimport { NestExpressApplication } from '@nestjs/platform-express';\n\nasync function bootstrap() {\n  const app = await NestFactory.create<NestExpressApplication>(AppModule);\n  app.setGlobalPrefix('api/');\n  app.useGlobalPipes(new ValidationPipe()); // 参数校验 数据验证\n  app.useGlobalInterceptors(new TransformInterceptor()); // 拦截成功的返回数据\n  app.useGlobalFilters(new HttpExceptionFilter()); // 拦截错误请求\n\n  console.info(`执行至 create 耗时 ${new Date().getTime() - startTime}`);\n  const config = new DocumentBuilder()\n    .setTitle('管理后台')\n    .setDescription('管理后台接口文档')\n    .setVersion('1.0')\n    .addBearerAuth()\n    .build();\n  const document = SwaggerModule.createDocument(app, config);\n  SwaggerModule.setup('docs', app, document);\n\n  await app.listen(3000);\n  console.info(`执行至 listen 耗时 ${new Date().getTime() - startTime}`);\n}\nbootstrap();\n"],"names":["startTime","Date","getTime","console","info","bootstrap","app","NestFactory","create","AppModule","setGlobalPrefix","useGlobalPipes","ValidationPipe","useGlobalInterceptors","TransformInterceptor","useGlobalFilters","HttpExceptionFilter","config","DocumentBuilder","setTitle","setDescription","setVersion","addBearerAuth","build","document","SwaggerModule","createDocument","setup","listen"],"rangeMappings":";;;;;;;;;;;;;;;;;;;;;;;;;;","mappings":";;;;sBAC4B;2BAEF;yBAGqB;wBAChB;qCACK;sCACC;AATrC,MAAMA,YAAY,IAAIC,OAAOC,OAAO;AAEpCC,QAAQC,IAAI,CAAC,CAAC,YAAY,EAAE,IAAIH,OAAOC,OAAO,KAAKF,UAAU,CAAC;AAE9DG,QAAQC,IAAI,CAAC,CAAC,YAAY,EAAE,IAAIH,OAAOC,OAAO,KAAKF,UAAU,CAAC;AAQ9D,eAAeK;IACb,MAAMC,MAAM,MAAMC,iBAAW,CAACC,MAAM,CAAyBC,oBAAS;IACtEH,IAAII,eAAe,CAAC;IACpBJ,IAAIK,cAAc,CAAC,IAAIC,sBAAc,KAAK,YAAY;IACtDN,IAAIO,qBAAqB,CAAC,IAAIC,0CAAoB,KAAK,YAAY;IACnER,IAAIS,gBAAgB,CAAC,IAAIC,wCAAmB,KAAK,SAAS;IAE1Db,QAAQC,IAAI,CAAC,CAAC,cAAc,EAAE,IAAIH,OAAOC,OAAO,KAAKF,UAAU,CAAC;IAChE,MAAMiB,SAAS,IAAIC,wBAAe,GAC/BC,QAAQ,CAAC,QACTC,cAAc,CAAC,YACfC,UAAU,CAAC,OACXC,aAAa,GACbC,KAAK;IACR,MAAMC,WAAWC,sBAAa,CAACC,cAAc,CAACpB,KAAKW;IACnDQ,sBAAa,CAACE,KAAK,CAAC,QAAQrB,KAAKkB;IAEjC,MAAMlB,IAAIsB,MAAM,CAAC;IACjBzB,QAAQC,IAAI,CAAC,CAAC,cAAc,EAAE,IAAIH,OAAOC,OAAO,KAAKF,UAAU,CAAC;AAClE;AACAK"}